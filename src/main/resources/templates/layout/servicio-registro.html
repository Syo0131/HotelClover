<!DOCTYPE html>
<html
  lang="es"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{layout/main}"
>
  <head>
    <title>Registrar Servicio</title>
  </head>
  <body>
    <div layout:fragment="content">
      <div class="relative flex min-h-screen w-full flex-col items-center justify-center bg-caribbean-green-50 p-6">
        <!-- Botón volver -->
        <div class="absolute top-6 left-6">
          
            th:href="@{/api/servicios/lista}"
            class="flex items-center gap-2 text-caribbean-green-600 hover:text-caribbean-green-700"
          >
            <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
            </svg>
            <span class="font-medium">Volver a la lista</span>
          </a>
        </div>

        <div class="w-full max-w-2xl rounded-xl bg-white/70 p-8 shadow-2xl backdrop-blur-lg">
          <div class="flex flex-col items-center">
            <div class="rounded-full bg-caribbean-green-100 p-3">
              <svg class="h-8 w-8 text-caribbean-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
              </svg>
            </div>
            <h2 class="mt-4 text-3xl font-bold tracking-tight text-slate-900">
              Nuevo Servicio
            </h2>
            <p class="mt-2 text-sm text-slate-600">
              Registra un nuevo servicio en el sistema
            </p>
          </div>

          <!-- Mensajes de error -->
          <div th:if="${#fields.hasErrors('*')}" class="mt-6 rounded-lg bg-red-50 p-4 border border-red-200">
            <div class="flex">
              <svg class="h-5 w-5 text-red-400" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path>
              </svg>
              <div class="ml-3">
                <h3 class="text-sm font-medium text-red-800">Hay errores en el formulario</h3>
                <ul class="mt-2 list-disc list-inside text-sm text-red-700">
                  <li th:each="err : ${#fields.errors('*')}" th:text="${err}">Error</li>
                </ul>
              </div>
            </div>
          </div>

          <form th:action="@{/api/servicios/registro-servicio}" th:object="${servicio}" method="post" class="mt-8 space-y-6">
            <div class="grid grid-cols-1 gap-6 md:grid-cols-2">
              <!-- Nombre -->
              <div class="md:col-span-2">
                <label for="nombre" class="mb-2 block text-sm font-medium text-slate-700">
                  Nombre del Servicio <span class="text-red-500">*</span>
                </label>
                <input
                  type="text"
                  id="nombre"
                  th:field="*{nombre}"
                  class="w-full rounded-lg border px-4 py-3 text-slate-900 placeholder-slate-400 focus:ring-2"
                  th:classappend="${#fields.hasErrors('nombre')} ? 'border-red-500 focus:border-red-500 focus:ring-red-500' : 'border-caribbean-green-300 focus:border-caribbean-green-500 focus:ring-caribbean-green-500'"
                  placeholder="Ej: Habitación Deluxe"
                  required
                />
                <p th:if="${#fields.hasErrors('nombre')}" th:errors="*{nombre}" class="mt-1 text-sm text-red-600"></p>
              </div>

              <!-- Tipo de Servicio -->
              <div>
                <label for="tipoServicio" class="mb-2 block text-sm font-medium text-slate-700">
                  Tipo de Servicio <span class="text-red-500">*</span>
                </label>
                <select
                  id="tipoServicio"
                  th:field="*{tipoServicio}"
                  class="w-full rounded-lg border px-4 py-3 text-slate-900 focus:ring-2"
                  th:classappend="${#fields.hasErrors('tipoServicio')} ? 'border-red-500 focus:border-red-500 focus:ring-red-500' : 'border-caribbean-green-300 focus:border-caribbean-green-500 focus:ring-caribbean-green-500'"
                  required
                >
                  <option value="">Seleccionar tipo</option>
                  <option value="ALOJAMIENTO">Alojamiento</option>
                  <option value="ALIMENTACION">Alimentación</option>
                  <option value="RECREACION">Recreación</option>
                  <option value="TRANSPORTE">Transporte</option>
                  <option value="SPA">Spa</option>
                  <option value="EVENTOS">Eventos</option>
                  <option value="OTROS">Otros</option>
                </select>
                <p th:if="${#fields.hasErrors('tipoServicio')}" th:errors="*{tipoServicio}" class="mt-1 text-sm text-red-600"></p>
              </div>

              <!-- Precio Base -->
              <div>
                <label for="precioBase" class="mb-2 block text-sm font-medium text-slate-700">
                  Precio Base ($) <span class="text-red-500">*</span>
                </label>
                <input
                  type="number"
                  id="precioBase"
                  th:field="*{precioBase}"
                  step="0.01"
                  min="0.01"
                  class="w-full rounded-lg border px-4 py-3 text-slate-900 placeholder-slate-400 focus:ring-2"
                  th:classappend="${#fields.hasErrors('precioBase')} ? 'border-red-500 focus:border-red-500 focus:ring-red-500' : 'border-caribbean-green-300 focus:border-caribbean-green-500 focus:ring-caribbean-green-500'"
                  placeholder="0.00"
                  required
                />
                <p th:if="${#fields.hasErrors('precioBase')}" th:errors="*{precioBase}" class="mt-1 text-sm text-red-600"></p>
              </div>

              <!-- Estado -->
              <div class="md:col-span-2">
                <label class="mb-2 block text-sm font-medium text-slate-700">Estado</label>
                <div class="flex items-center gap-4">
                  <label class="flex items-center gap-2 cursor-pointer">
                    <input
                      type="radio"
                      th:field="*{activo}"
                      value="true"
                      class="h-4 w-4 text-caribbean-green-600 focus:ring-caribbean-green-500"
                      checked
                    />
                    <span class="text-sm text-slate-700">Activo</span>
                  </label>
                  <label class="flex items-center gap-2 cursor-pointer">
                    <input
                      type="radio"
                      th:field="*{activo}"
                      value="false"
                      class="h-4 w-4 text-caribbean-green-600 focus:ring-caribbean-green-500"
                    />
                    <span class="text-sm text-slate-700">Inactivo</span>
                  </label>
                </div>
              </div>

              <!-- Descripción -->
              <div class="md:col-span-2">
                <label for="descripcion" class="mb-2 block text-sm font-medium text-slate-700">
                  Descripción
                </label>
                <textarea
                  id="descripcion"
                  th:field="*{descripcion}"
                  rows="4"
                  class="w-full rounded-lg border border-caribbean-green-300 bg-white px-4 py-3 text-slate-900 placeholder-slate-400 focus:border-caribbean-green-500 focus:ring-2 focus:ring-caribbean-green-500"
                  placeholder="Descripción detallada del servicio..."
                ></textarea>
              </div>
            </div>

            <div class="flex gap-4">
              <button
                type="submit"
                class="flex-1 rounded-lg bg-caribbean-green-500 px-6 py-3 font-bold text-white shadow-lg hover:bg-caribbean-green-600 focus:outline-none focus:ring-2 focus:ring-caribbean-green-500 focus:ring-offset-2"
              >
                Registrar Servicio
              </button>
              
                th:href="@{/api/servicios/lista}"
                class="flex-1 rounded-lg border-2 border-slate-300 bg-white px-6 py-3 text-center font-bold text-slate-700 hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2"
              >
                Cancelar
              </a>
            </div>
          </form>
        </div>
      </div>
    </div>
  </body>
</html>
